---
title: Git & GitHub - 이전 커밋으로 돌아가기_reset,revert
date: 2025-01-09 17:10:00 +0800
categories: [Git & GitHub]
# tags: [writing]
render_with_liquid: false
---


## Reset
<blockquote class="prompt-info">커밋 히스토리를 되돌리고, 특정 커밋 시점의 상태로 돌아가게 함</blockquote>

1. `git log` 
	 돌아갈 커밋의 해시를 복사
	 
2. `git reset --hard {돌아갈 커밋의 해시}`

	해당 커밋을 했던 시점의 코드로 변경됨, 해당 커밋 이후의 커밋은 사라짐(초기화)
		
        -- hard: working directory의 변경 사항도 모두 초기화
		-- soft: 커밋만 되돌리고, staging area&working directory는 유지
		-- mixed: 커밋&staging area 되돌리고, working directory는 유지

<br><br><br><br>

## Revert
<blockquote class="prompt-info">특정 커밋을 되돌리되, 기존 커밋 히스토리를 보존하면서 새로운 커밋을 생성</blockquote>

1. `git log` 
	취소하고 싶은 커밋의 해시를 복사
2. 
	`git revert {특정 커밋 해시}`
	**특정  커밋의 변경 사항**을 되돌리는 새로운 커밋을 생성
	협업 중인 프로젝트에서 안전하게 커밋을 되돌릴때 사용

<br><br><br><br>

## Revert 실습

<blockquote class="prompt-info"> 실습 목표<br>
첫번째 커밋: a.txt 파일 생성 "나는 첫번째 글" 추가<br>
두번째 커밋: a.txt 파일 "나는 두번째 글" 추가<br>
세번째 커밋: a.txt 파일 "나는 세번째 글" 추가<br>
네번째 커밋: b.txt 파일 생성 "1" 추가

**두번째 커밋으로 revert 했을 때, 결과는 ??**
</blockquote>

- 첫번째 커밋
	- `git add .`
	- `git commit -m "first"`
![](revertImage/스크린샷%202025-01-15%20오후%201.00.58.png) 

- 두번째 커밋
	- `git add .`
	- `git commit -m "add second line"`
![](https://github.com/user-attachments/assets/ef309858-039d-40cf-8da3-92d9a848436c)

- 세번째 커밋
	- `git add .`
	- `git commit -m "add third line"`
![](https://github.com/user-attachments/assets/b8985f82-e282-4433-baec-0a898eddced8)

- 네번째 커밋
	- `git add .`
	- `git commit -m "add b.txt"`
![](https://github.com/user-attachments/assets/d27fd573-9efa-4eed-aeee-ffcfa34fb083)


- 두번째 커밋으로 revert
	- `git log` : 두번째 커밋의 해시값 얻기
	- `git revert d3256309b1f4d45d01d` : 두번째 커밋의 해시값 일부 복사하여 revert
	![](https://github.com/user-attachments/assets/47b2e61c-cc69-45a1-a93b-011ad4479ae4)

<blockquote class="prompt-tip"> 결과<br>
두번째 커밋의 변경 사항을 되돌리는 것이기 때문에 "나는 첫번째 글" 만 남는다<br>
b.txt 파일의 변경사항은 두번째 커밋과 관련이 없기 때문에 제거되지 않고 남아있게 된다.<br>
</blockquote>